<div class="premium-order-history">
  <!-- Page Header -->
  <section class="page-header-section">
    <div class="container">
      <div class="page-header">
        <div class="header-content">
          <h1 class="page-title">Sipariş Geçmişim</h1>
          <p class="page-subtitle">Tüm siparişlerinizi buradan takip edebilirsiniz</p>
        </div>
        <div class="header-stats">
          <div class="stat-card">
            <div class="stat-number">{{ orders.length }}</div>
            <div class="stat-label">Toplam Sipariş</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">{{ getActiveOrdersCount() }}</div>
            <div class="stat-label">Aktif Sipariş</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Orders Content -->
  <section class="orders-content-section">
    <div class="container">
      <!-- Empty State -->
      <div *ngIf="orders.length === 0" class="empty-orders-state">
        <div class="empty-icon">
          <svg width="120" height="120" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16 13H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M16 17H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10 9H9H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h2>Henüz Sipariş Yok</h2>
        <p>Henüz hiç sipariş vermediniz. Alışverişe başlamak için ürünleri keşfedin!</p>
        <a routerLink="/home" class="btn btn-primary btn-lg">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Alışverişe Başla
        </a>
      </div>

      <!-- Orders List -->
      <div *ngIf="orders.length > 0" class="orders-list">
        <div *ngFor="let order of orders; let i = index" class="order-card" [style.animation-delay]="(i * 0.1) + 's'">
          <!-- Order Header -->
          <div class="order-header">
            <div class="order-info">
              <div class="order-number">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 16V8C20.9996 7.64928 20.9071 7.30481 20.7315 7.00116C20.556 6.69751 20.3037 6.44536 20 6.27L13 2.27C12.696 2.09446 12.3511 2.00205 12 2.00205C11.6489 2.00205 11.304 2.09446 11 2.27L4 6.27C3.69626 6.44536 3.44398 6.69751 3.26846 7.00116C3.09294 7.30481 3.00036 7.64928 3 8V16C3.00036 16.3507 3.09294 16.6952 3.26846 16.9988C3.44398 17.3025 3.69626 17.5546 4 17.73L11 21.73C11.304 21.9055 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9055 13 21.73L20 17.73C20.3037 17.5546 20.556 17.3025 20.7315 16.9988C20.9071 16.6952 20.9996 16.3507 21 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M3.27 6.96L12 12.01L20.73 6.96" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 22.08V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Sipariş #{{ order.id }}</span>
              </div>
              <div class="order-date">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M16 1V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 1V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M3 9H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                {{ order.createdAt | date:'dd MMM yyyy, HH:mm' }}
              </div>
            </div>
            
            <div class="order-status">
              <span class="status-badge" [class]="getStatusClass(order.status)">
                {{ getStatusText(order.status) }}
              </span>
            </div>
          </div>

          <!-- Order Items -->
          <div class="order-items">
            <div *ngFor="let item of order.items" class="order-item">
              <div class="item-image">
                <img [src]="item.product.imageUrl" [alt]="item.product.name" />
              </div>
              <div class="item-details">
                <h4 class="item-name">{{ item.product.name }}</h4>
                <div class="item-meta">
                  <span class="item-quantity">{{ item.quantity }} adet</span>
                  <span class="item-price">{{ item.product.price | currency:'TRY':'symbol':'1.0-0' }}</span>
                </div>
                <div class="item-total">
                  Toplam: {{ item.quantity * item.product.price | currency:'TRY':'symbol':'1.0-0' }}
                </div>
              </div>
            </div>
          </div>

          <!-- Order Summary -->
          <div class="order-summary">
            <div class="summary-left">
              <div class="delivery-address">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div>
                  <span class="address-label">Teslimat Adresi:</span>
                  <span class="address-text">{{ order.address }}</span>
                </div>
              </div>
            </div>
            
            <div class="summary-right">
              <div class="order-total">
                <span class="total-label">Toplam Tutar</span>
                <span class="total-amount">{{ getTotal(order) | currency:'TRY':'symbol':'1.0-0' }}</span>
              </div>
            </div>
          </div>

          <!-- Order Actions -->
          <div class="order-actions">
            <div class="action-buttons">
              <button class="btn btn-secondary btn-sm track-order">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Siparişi Takip Et
              </button>
              
              <button class="btn btn-secondary btn-sm reorder">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17 1L21 5L17 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M3 11V9C3 7.93913 3.42143 6.92172 4.17157 6.17157C4.92172 5.42143 5.93913 5 7 5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M7 23L3 19L7 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 13V15C21 16.0609 20.5786 17.0783 19.8284 17.8284C19.0783 18.5786 18.0609 19 17 19H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Tekrar Sipariş Ver
              </button>
              
              <button 
                *ngIf="order.status !== 'IPTAL_EDILDI' && order.status !== 'TESLIM_EDILDI'" 
                (click)="cancelOrder(order.id)"
                class="btn btn-danger btn-sm cancel-order"
              >
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Siparişi İptal Et
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

